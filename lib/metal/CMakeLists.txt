set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -DDEHANCER_GPU_METAL=1")

if (CMAKE_SYSTEM_NAME STREQUAL "iOS")
    set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -DIOS_SYSTEM=13")
endif ()

set (PROJECT_LIB_PLATFORM_SUFFIX _metal)
set (PROJECT_LIB_PLATFORM ${PROJECT_LIB}${PROJECT_LIB_PLATFORM_SUFFIX})

if(IOS)
    set (PROJECT_LIB_PLATFORM ${PROJECT_LIB_PLATFORM}_${SDK_NAME})
endif()

file (GLOB COMMON_IMPL_SRC ${COMMON_IMPL_SRC}
        ${DEHANCER_GPULIB_CPP_SOURCE}/src/platforms/metal/*.cpp
        ${DEHANCER_GPULIB_CPP_SOURCE}/src/platforms/metal/*.mm
        )

include(${DEHANCER_GPULIB_CPP_SOURCE}/lib/CMake.in)